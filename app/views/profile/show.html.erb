<div class="row">
    <div class="col-sm-3">
        <div class="image">
            <%=gravatar_for(current_user)%>
            <div class="mask-middle">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#edit_portrait">Edit</button>
            </div>
            <!-- Modal -->
            <div class="modal fade" id="edit_portrait" tabindex="-1" role="dialog" aria-labelledby="edit_portrait_label" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <%= form_for( @user, method: "patch", url: "/users/#{current_user.id}?field_type=portrait}" ) do |f| %>
                    <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="edit_portrait_label">Edit Profile</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <%= f.file_field :portrait, class: 'file'%>
                    </div>
                    <div class="modal-footer">
                        <div class="form-group">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            &nbsp &nbsp
                            <%= f.submit "Save", class: "btn btn-primary" %>
                        </div>
                    </div>
                    </div>
                <% end %>
            </div>
            </div>
        </div>
        <div id="portrait"></div>
    </div>
    <div class="col-sm-9">
        <h1><%= current_user.name %></h1>
        <table class="table table-hover">
            <tbody> 
              <tr>
              <td>Name</td>
              <td id="name"><%= current_user.name %></td>
              <td><%= link_to  "edit", edit_user_path(id: current_user.id, field_type: "name"), remote: true, class: "btn btn-primary" %></td>
              </tr>
              <tr>
              <td>Mail</td>
              <td id="email"><%= current_user.email %></td>
              <td><%= link_to  "edit", edit_user_path(id: current_user.id, field_type: "email"), remote: true, class: "btn btn-primary" %></td>
              </tr>
              <tr>
              <td>Password</td>
              <td id="password">*********</td>
              <td>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#edit_password">edit</button>
                <!-- Modal -->
                <div class="modal fade" id="edit_password" tabindex="-1" role="dialog" aria-labelledby="edit_password_label" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <%= form_for( :pass_form, method: "patch", url: "/users/#{current_user.id}/update_pwd" ) do |f| %>
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="edit_password_label">Edit Profile</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="form-group row">
                                        <%= f.label :old_password, class: "col-form-label col-sm-5" %>
                                        <%= f.password_field :old_password, class: "col-sm-6" %>
                                    </div>
                                    <div class="form-group row">
                                        <%= f.label :password, class: "col-form-label col-sm-5" %>
                                        <%= f.password_field :password, class: "col-sm-6" %>
                                    </div>
                                    <div class="form-group row">
                                        <%= f.label :password_confirmation, class: "col-form-label col-sm-5" %>
                                        <%= f.password_field :password_confirmation, class: "col-sm-6" %>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <div class="form-group text-right">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                        &nbsp &nbsp
                                        <%= f.submit "Authentication", class: "btn btn-primary" %>
                                    </div>
                                </div>
                            </div>
                        <% end %>
                    </div>
                </div>
              </td>
              </tr>
            </tbody>
      </table>
    </div>
</div>

